plan:
  code: experiment-branch-1.8-with-snippet-6.xx
  variables:
    global: global-input
    inline:
      mh.hyper-params:
        RNN: LSTM
        batches: '40'
        seed: '42'
        time_steps: '7'
  processes:
    - code: assembly-raw-file
      name: assembly raw file
      snippet:
        - code: assembly.dataset:1.3
          params: 'combine'
      input:
        - variable: global-input
      output:
        - variable: assembled-raw
    - code: dataset-processing
      name: dataset processing
      snippets:
        - code: assembly.dataset:1.3
          params: 'produce'
      input:
        - variable: assembled-raw
      output:
        - variable: dataset-processing
      subProcesses:
        exec: parallel
        processes:
          - code: feature-processing_cluster_size_1
            name: feature processing
            snippets:
              - code: feature.standard:1.5
                params: CLUSTER_SIZE_1
            input:
              - variable: dataset-processing
            output:
              - variable: feature-processing_cluster_size_1
          - code: feature-processing_matrix
            name: feature processing
            snippets:
              - code: feature.standard:1.5
                params: MATRIX
            input:
              - variable: dataset-processing
            output:
              - variable: feature-processing_matrix
    - code: mh.permute-variables-and-hyper-params
      name: permute variables and hyper params
      metas:
        - key: variables
          value: feature-processing_matrix, feature-processing_cluster_size_1
      snippets:
        - code: mh.permute-variables-and-hyper-params
          context: internal
      output:
        - variable: feature-per-task
      subProcesses:
        exec: sequence
        processes:
          - code: fit-data
            name: fit-data
            snippets:
              - code: fit:6.2
            input:
              - variable: dataset-processing
              - variable: feature-per-task
            output:
              - variable: model
          - code: predict-result
            name: predict-result
            snippets:
              - code: predict:6.2
            input:
              - variable: dataset-processing
              - variable: feature-per-task
              - variable: model
            output:
              - variable: metrics
              - variable: predicted
          - code: check-fitting
            name: check-fitting
            snippets:
              - code: check-fitting:6.2
            input:
              - variable: predicted
            output:
              - variable: overfitting
version: 8