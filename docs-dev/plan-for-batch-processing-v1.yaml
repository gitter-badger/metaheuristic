source:
  code: plan-for-batch-processing-1:0
  variables:
    startInputAs: input-data
  processes:
    - code: mh.variable-splitter
      name: mh.variable-splitter
      function:
        code: mh.variable-splitter
        context: internal
      inputs:
        - variable: input-data
      outputs:
        - variable: batch-item
      subProcesses:
        logic: and
        processes:
          - code: process-item
            name: process-item
            function:
              code: process-item:1.0
            inputs:
              - variable: batch-item
            outputs:
              - variable: processed-file
    - code: mh.aggregate
      name: mh.aggregate
      function:
        code: mh.aggregate
        context: internal
      inputs:
        - variable: processed-file
      outputs:
        - variable: batch-result
version: 1