source:
  clean: false
  uid: SourceCode for experiment
  variables:
    globals:
      - test-variable
    inline:
      mh.hyper-params:
        seed: '42'
        batches: '40'
        time_steps: '7'
        RNN: LSTM
  processes:
    - code: assembly-raw-file
      name: assembly raw file
      function:
        code: function-01:1.1
      inputs:
        - name: test-variable
      outputs:
        - name: assembled-raw-output
    - code: dataset-processing
      name: dataset processing
      function:
        code: function-02:1.1
        context: external
      inputs:
        - name: assembled-raw-output
      outputs:
        - name: dataset-processing-output
      subProcesses:
        logic: and
        processes:
          - code: feature-processing-1
            name: feature-processing-1
            function:
              code: function-03:1.1
              context: external
            inputs:
              - name: dataset-processing-output
            outputs:
              - name: feature-output-1
                sourcing: dispatcher
                parentContextId: true
          - code: feature-processing-2
            name: feature-processing-2
            function:
              code: function-04:1.1
              context: external
            inputs:
              - name: dataset-processing-output
            outputs:
              - name: feature-output-2
                parentContextId: true
    - code: mh.permute-variables-and-hyper-params
      name: permute variables and hyper params
      function:
        code: mh.permute-variables-and-hyper-params
        context: internal
      metas:
        - key: mh.output-is-dynamic
          value: true
        - key: variables
          value: feature-output-1, feature-output-2
        - key: output-variable
          value: feature-item
      subProcesses:
        logic: sequential
        processes:
          - code: fit-dataset
            name: fit-dataset
            function:
              code: test.fit.function:1.0
              context: external
            inputs:
              - name: dataset-processing-output
              - name: feature-item
            outputs:
              - name: model
          - code: predict-dataset
            name: predict-dataset
            function:
              code: test.predict.function:1.0
              context: external
            inputs:
              - name: dataset-processing-output
              - name: model
            outputs:
              - name: metrics
              - name: predicted
    - code: mh.aggregate-internal-context
      name: aggregate variables in internal context
      function:
        code: mh.aggregate-internal-context
        context: internal
      metas:
        - key: variables
          value: metrics, predicted
      outputs:
        - name: final-result
version: 1
