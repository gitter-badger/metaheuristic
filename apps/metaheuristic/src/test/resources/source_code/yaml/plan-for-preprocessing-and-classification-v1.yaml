source:
  clean: true
  uid: experiment-branch-1.8-with-function-6.xx
  variables:
    globals:
      - global-input
    inline:
      mh.hyper-params:
        RNN: LSTM
        batches: '40'
        seed: '42'
        time_steps: '7'
  processes:
    - code: assembly-raw-file
      name: assembly raw file
      function:
        code: assembly.dataset:1.3
        params: 'assemble'
      inputs:
        - name: global-input
      outputs:
        - name: assembled-raw
    - code: dataset-processing
      name: dataset processing
      function:
        code: assembly.dataset:1.3
        params: 'produce'
      inputs:
        - name: assembled-raw
      outputs:
        - name: dataset-processing
      subProcesses:
        logic: and
        processes:
          - code: feature-processing_cluster
            name: feature processing
            function:
              code: feature.standard:1.5
              params: CLUSTER
            inputs:
              - name: dataset-processing
            outputs:
              - name: feature-processing_cluster
          - code: feature-processing_matrix
            name: feature processing
            function:
              code: feature.standard:1.5
              params: MATRIX
            inputs:
              - name: dataset-processing
            outputs:
              - name: feature-processing_matrix
    - code: mh.permute-variables-and-hyper-params
      name: permute variables and hyper params
      metas:
        - key: variables
          value: feature-processing_matrix, feature-processing_cluster_size_1
      function:
        code: mh.permute-variables-and-hyper-params
        context: internal
      outputs:
        - name: feature-per-task
      subProcesses:
        logic: sequential
        processes:
          - code: fit-data
            name: fit-data
            function:
              code: fit:6.2
            inputs:
              - name: dataset-processing
              - name: feature-per-task
            outputs:
              - name: model
          - code: predict-result
            name: predict-result
            function:
              code: predict:6.2
            inputs:
              - name: dataset-processing
              - name: feature-per-task
              - name: model
            outputs:
              - name: metrics
              - name: predicted
          - code: check-fitting
            name: check-fitting
            function:
              code: check-fitting:6.2
            inputs:
              - name: predicted
            outputs:
              - name: overfitting
version: 1